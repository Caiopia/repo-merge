<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>AppAuth: OIDRedirectHTTPHandler Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AppAuth
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Instance Methods</a> &#124;
<a href="#properties">Properties</a> &#124;
<a href="class_o_i_d_redirect_h_t_t_p_handler-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">OIDRedirectHTTPHandler Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Start a HTTP server on the loopback interface (i.e. <code>127.0.0.1</code>) to receive OAuth authorization response redirects on macOS.  
 <a href="interface_o_i_d_redirect_h_t_t_p_handler.html#details">More...</a></p>

<p><code>#import &lt;<a class="el" href="_o_i_d_redirect_h_t_t_p_handler_8h_source.html">OIDRedirectHTTPHandler.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for OIDRedirectHTTPHandler:</div>
<div class="dyncontent">
 <div class="center">
  <img src="interface_o_i_d_redirect_h_t_t_p_handler.png" usemap="#OIDRedirectHTTPHandler_map" alt=""/>
  <map id="OIDRedirectHTTPHandler_map" name="OIDRedirectHTTPHandler_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Instance Methods</h2></td></tr>
<tr class="memitem:aaacd20e4a7f1d4a21539496650607ba8"><td class="memItemLeft" align="right" valign="top">(instancetype)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_o_i_d_redirect_h_t_t_p_handler.html#aaacd20e4a7f1d4a21539496650607ba8">initWithSuccessURL:</a></td></tr>
<tr class="memdesc:aaacd20e4a7f1d4a21539496650607ba8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates an a loopback HTTP redirect URI handler with the given success URL.  <a href="#aaacd20e4a7f1d4a21539496650607ba8">More...</a><br /></td></tr>
<tr class="separator:aaacd20e4a7f1d4a21539496650607ba8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa49c60ccca44a322ce2ac2d3192390a2"><td class="memItemLeft" align="right" valign="top">(NSURL *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_o_i_d_redirect_h_t_t_p_handler.html#aa49c60ccca44a322ce2ac2d3192390a2">startHTTPListener:</a></td></tr>
<tr class="memdesc:aa49c60ccca44a322ce2ac2d3192390a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts listening on the loopback interface on a random available port, and returns a URL with the base address. Use the returned redirect URI to build an <code><a class="el" href="interface_o_i_d_authorization_request.html" title="Represents an authorization request. ">OIDAuthorizationRequest</a></code>, and once you initiate the request, set the resulting <code><a class="el" href="protocol_o_i_d_authorization_flow_session-p.html" title="Represents an in-flight authorization flow session. ">OIDAuthorizationFlowSession</a></code> to <code>currentAuthorizationFlow</code> so the response can be handled.  <a href="#aa49c60ccca44a322ce2ac2d3192390a2">More...</a><br /></td></tr>
<tr class="separator:aa49c60ccca44a322ce2ac2d3192390a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f0d4c58a764b154695cd3ede152ddcd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0f0d4c58a764b154695cd3ede152ddcd"></a>
(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_o_i_d_redirect_h_t_t_p_handler.html#a0f0d4c58a764b154695cd3ede152ddcd">cancelHTTPListener</a></td></tr>
<tr class="memdesc:a0f0d4c58a764b154695cd3ede152ddcd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops listening the loopback interface and sends an cancellation error (in the domain <a class="el" href="_o_i_d_error_8h.html#aa64631bba1c6d371cda8383911e1bb06" title="The error domain for all NSErrors returned from the AppAuth library. ">OIDGeneralErrorDomain</a>, with the code <a class="el" href="_o_i_d_error_8h.html#a45b94f7e809d58c23e55b41791f31a88a01ad148961250382db17b6539b56bfb6" title="Indicates an OAuth authorization flow was programmatically cancelled. ">OIDErrorCodeProgramCanceledAuthorizationFlow</a>) to the <code>currentAuthorizationFlow</code>. Has no effect if called when no requests are pending.  The HTTP listener is stopped automatically on receiving a valid authorization response (regardless of whether the authorization succeeded or not), this method should not be called except when abandoning the authorization request. <br /></td></tr>
<tr class="separator:a0f0d4c58a764b154695cd3ede152ddcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="properties"></a>
Properties</h2></td></tr>
<tr class="memitem:ac5ecb954cf003d91febee1785a9f1104"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac5ecb954cf003d91febee1785a9f1104"></a>
id&lt; <a class="el" href="protocol_o_i_d_authorization_flow_session-p.html">OIDAuthorizationFlowSession</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_o_i_d_redirect_h_t_t_p_handler.html#ac5ecb954cf003d91febee1785a9f1104">currentAuthorizationFlow</a></td></tr>
<tr class="memdesc:ac5ecb954cf003d91febee1785a9f1104"><td class="mdescLeft">&#160;</td><td class="mdescRight">The authorization flow session which receives the return URL from the browser.  The loopback HTTP server will try sending incoming request URLs to the OAuth redirect handler to continue the flow. This should be set while an authorization flow is in progress. <br /></td></tr>
<tr class="separator:ac5ecb954cf003d91febee1785a9f1104"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Start a HTTP server on the loopback interface (i.e. <code>127.0.0.1</code>) to receive OAuth authorization response redirects on macOS. </p>
</div><h2 class="groupheader">Method Documentation</h2>
<a class="anchor" id="aaacd20e4a7f1d4a21539496650607ba8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (instancetype) initWithSuccessURL: </td>
          <td></td>
          <td class="paramtype">(nullable NSURL *)&#160;</td>
          <td class="paramname"><em>successURL</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates an a loopback HTTP redirect URI handler with the given success URL. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">successURL</td><td>The URL that the user is redirected to after the authorization flow completes either with a result of success or error. The contents of this page should instruct the user to return to the app.  Once you have initiated the authorization request, be sure to set <code>currentAuthorizationFlow</code> on this object so that any authorization responses received by this listener will be routed accordingly. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa49c60ccca44a322ce2ac2d3192390a2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSURL *) startHTTPListener: </td>
          <td></td>
          <td class="paramtype">(NSError **)&#160;</td>
          <td class="paramname"><em>error</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts listening on the loopback interface on a random available port, and returns a URL with the base address. Use the returned redirect URI to build an <code><a class="el" href="interface_o_i_d_authorization_request.html" title="Represents an authorization request. ">OIDAuthorizationRequest</a></code>, and once you initiate the request, set the resulting <code><a class="el" href="protocol_o_i_d_authorization_flow_session-p.html" title="Represents an in-flight authorization flow session. ">OIDAuthorizationFlowSession</a></code> to <code>currentAuthorizationFlow</code> so the response can be handled. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">error</td><td>The error if an error occurred while starting the local HTTP server. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The URL containing the address of the server with the randomly assigned available port.  Each instance of <code><a class="el" href="interface_o_i_d_redirect_h_t_t_p_handler.html" title="Start a HTTP server on the loopback interface (i.e. 127.0.0.1) to receive OAuth authorization respons...">OIDRedirectHTTPHandler</a></code> can only listen for a single authorization response. Calling this more than once will result in the previous listener being cancelled (equivalent of <code>cancelHTTPListener</code> being called). </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>Source/macOS/<a class="el" href="_o_i_d_redirect_h_t_t_p_handler_8h_source.html">OIDRedirectHTTPHandler.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
